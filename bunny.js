"use strict";(()=>{var It=Object.defineProperty;var Pa=Object.getOwnPropertyDescriptor;var Da=Object.getOwnPropertyNames;var Ba=Object.prototype.hasOwnProperty;var n=(e,t)=>It(e,"name",{value:t,configurable:!0});var c=(e,t)=>()=>(e&&(t=e(e=0)),t);var A=(e,t)=>{for(var r in t)It(e,r,{get:t[r],enumerable:!0})},Ma=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(var a=Da(t),l=0,i=a.length,u;l<i;l++)u=a[l],!Ba.call(e,u)&&u!==r&&It(e,u,{get:(d=>t[d]).bind(null,u),enumerable:!(o=Pa(t,u))||o.enumerable});return e};var En=e=>Ma(It({},"__esModule",{value:!0}),e);var Wt,ie,Nt=c(()=>{Wt=["a","b","i"],ie=new Map});function Yt(e,t,r,o,a){var l=ie.get(t)?.[e];if(!l)return a?Reflect.construct(t[e],r,o):t[e].apply(o,r);for(var i of l.b.values()){var u=i.call(o,r);Array.isArray(u)&&(r=u)}var d=[...l.i.values()].reduce(function(N,E){return function(){for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];return E.call(o,x,N)}},function(){for(var N=arguments.length,E=new Array(N),v=0;v<N;v++)E[v]=arguments[v];return a?Reflect.construct(l.o,E,o):l.o.apply(o,E)})(...r);for(var R of l.a.values())d=R.call(o,r,d)??d;return d}var Sn=c(()=>{Nt();n(Yt,"default")});function Xt(e,t,r,o){var a=ie.get(e),l=a?.[t];if(!l?.[o].has(r))return!1;if(l[o].delete(r),Wt.every(function(u){return l[u].size===0})){var i=Reflect.defineProperty(e,t,{value:l.o,writable:!0,configurable:!0});i||(e[t]=l.o),delete a[t]}return Object.keys(a).length==0&&ie.delete(e),!0}function _n(){for(var[e,t]of ie.entries())for(var r in t)for(var o of Wt)for(var a of t[r]?.[o].keys()??[])Xt(e,r,a,o)}var Jt=c(()=>{Nt();n(Xt,"unpatch");n(_n,"unpatchAll")});function at(e){return function(t,r,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof r[t]!="function")throw new Error(`${t} is not a function in ${r.constructor.name}`);ie.has(r)||ie.set(r,{});var l=ie.get(r);if(!l[t]){var i=r[t];l[t]={o:i,b:new Map,i:new Map,a:new Map};var u=n(function(v,x,w){var De=Yt(t,r,x,v,w);return a&&E(),De},"runHook"),d=new Proxy(i,{apply:function(v,x,w){return u(x,w,!1)},construct:function(v,x){return u(i,x,!0)},get:function(v,x,w){return x=="toString"?i.toString.bind(i):Reflect.get(v,x,w)}}),R=Reflect.defineProperty(r,t,{value:d,configurable:!0,writable:!0});R||(r[t]=d)}var N=Symbol(),E=n(function(){return Xt(r,t,N,e)},"unpatchThisPatch");return l[t][e].set(N,o),E}}var bn=c(()=>{Sn();Nt();Jt();n(at,"default")});var Qt={};A(Qt,{after:()=>y,before:()=>be,instead:()=>Q,unpatchAll:()=>_n});var be,Q,y,At=c(()=>{bn();Jt();be=at("b"),Q=at("i"),y=at("a")});var Tn,V=c(()=>{"use strict";At();At();Tn={...Qt}});var tr={};A(tr,{find:()=>G,findAll:()=>it,findByDisplayName:()=>er,findByDisplayNameAll:()=>Ga,findByName:()=>K,findByNameAll:()=>Va,findByProps:()=>s,findByPropsAll:()=>Ua,findByStoreName:()=>Be,findByTypeName:()=>ka,findByTypeNameAll:()=>Ha,modules:()=>qt});var La,Cn,Zt,Pt,xn,wn,Oa,In,qt,G,it,Nn,An,Pn,Dn,Fa,s,Ua,K,Va,er,Ga,ka,Ha,Be,S=c(()=>{"use strict";V();La=window.ErrorUtils.getGlobalHandler(),Cn=n(function(e){return Object.defineProperty(window.modules,e,{value:window.modules[e],enumerable:!1,configurable:!0,writable:!0})},"blacklist");for(xn in window.modules)if(Zt=Number(xn),Pt=window.modules[Zt]?.publicModule?.exports,!Pt||Pt===window||Pt.proxygone===null){Cn(Zt);continue}wn=new WeakSet,Oa=n(function(e){typeof e!="object"||wn.has(e)||(wn.add(e),e?.default?.name==="requireNativeComponent"&&Q("default",e,function(t,r){try{return r(...t)}catch{return t[0]}}))},"onModuleCheck"),In=n(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function(r){var o=[];for(var a in e){var l=Number(a),i=e[l]?.publicModule?.exports;if(!e[l].isInitialized)try{window.ErrorUtils.setGlobalHandler(function(){}),__r(l),window.ErrorUtils.setGlobalHandler(La)}catch{}if(!i){Cn(l);continue}if(Oa(i),i.default&&i.__esModule&&r(i.default)){if(t)return i.default;o.push(i.default)}if(r(i)){if(t)return i;o.push(i)}}if(!t)return o}},"filterModules"),qt=window.modules,G=In(qt,!0),it=In(qt),Nn=n(function(e){return function(t){return e.every(function(r){return t[r]!==void 0})}},"propsFilter"),An=n(function(e,t){return t?function(r){return r?.name===e}:function(r){return r?.default?.name===e}},"nameFilter"),Pn=n(function(e,t){return t?function(r){return r?.displayName===e}:function(r){return r?.default?.displayName===e}},"dNameFilter"),Dn=n(function(e,t){return t?function(r){return r?.type?.name===e}:function(r){return r?.default?.type?.name===e}},"tNameFilter"),Fa=n(function(e){return function(t){return t.getName&&t.getName.length===0&&t.getName()===e}},"storeFilter"),s=n(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return G(Nn(t))},"findByProps"),Ua=n(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return it(Nn(t))},"findByPropsAll"),K=n(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return G(An(e,t))},"findByName"),Va=n(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return it(An(e,t))},"findByNameAll"),er=n(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return G(Pn(e,t))},"findByDisplayName"),Ga=n(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return it(Pn(e,t))},"findByDisplayNameAll"),ka=n(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return G(Dn(e,t))},"findByTypeName"),Ha=n(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return it(Dn(e,t))},"findByTypeNameAll"),Be=n(function(e){return G(Fa(e))},"findByStoreName")});function Z(){return de!=null}function pe(){return je!=null}function ja(){if(!pe()||Z())return null;var e={name:je.loaderName,features:{}};return rr()&&(e.features.loaderConfig=!0),On()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return za()},configurable:!0})),W()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){return nr()},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}function $a(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:ja()}function rr(){return pe()?!0:Z()?de.features.loaderConfig:!1}function W(){return pe()?je.hasThemeSupport:Z()?de.features.themes!=null:!1}function nr(){if(pe())return je.storedTheme;if(Z()){var e=de.features.themes?.prop;return e&&globalThis[e]||null}return null}function Bn(){return pe()?"pyoncord/current-theme.json":Z()?"vendetta_theme.json":null}function lt(){return pe()?!1:Z()?de.features.devtools!=null:!1}function Mn(){return lt()&&Z()?de.features.devtools.prop:null}function Ln(){return lt()&&Z()?de.features.devtools.version:null}function On(){return pe()?je.isSysColorsSupported:Z()?de.features.syscolors!=null:!1}function za(){return On()?pe()?je.sysColors:Z()?de.features.syscolors.prop:null:null}function Fn(){return pe()?"pyoncord/loader.json":Z()?"vendetta_loader.json":"loader.json"}var je,de,ge=c(()=>{"use strict";je=globalThis.__PYON_LOADER__,de=globalThis.__vendetta_loader;n(Z,"isVendettaLoader");n(pe,"isPyonLoader");n(ja,"polyfillVendettaLoader");n($a,"getVendettaLoader");$a();n(rr,"isLoaderConfigSupported");n(W,"isThemeSupported");n(nr,"getStoredTheme");n(Bn,"getThemeFilePath");n(lt,"isReactDevToolsPreloaded");n(Mn,"getReactDevToolsProp");n(Ln,"getReactDevToolsVersion");n(On,"isSysColorsSupported");n(za,"getSysColors");n(Fn,"getLoaderConfigPath")});function le(e,t){return st(e,t,{walkable:["props","children","child","sibling"]})}var Un=c(()=>{"use strict";Te();n(le,"default")});function or(e,t,r,o){if(!(o>r.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(var a of e)if(!(typeof a!="object"||a===null))try{var l=or(a,t,r,o+1);if(l)return l}catch{}}else if(typeof e=="object"){for(var i of Object.keys(e))if(!(typeof e[i]!="object"||e[i]===null)&&!(r.walkable.length&&!r.walkable.includes(i))&&!r.ignore.includes(i))try{var u=or(e[i],t,r,o+1);if(u)return u}catch{}}}}function st(e,t){var{walkable:r=[],ignore:o=[],maxDepth:a=100}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return or(e,t,{walkable:r,ignore:o,maxDepth:a},0)}var Vn=c(()=>{"use strict";n(or,"treeSearch");n(st,"default")});async function xe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e4,o=await fetch(e,{signal:Ka(r),...t});if(!o.ok)throw new Error("Request returned non-ok");return o}function Ka(e){var t=new AbortController;return setTimeout(function(){return t.abort(`Timed out after ${e}ms`)},e),t.signal}var Gn=c(()=>{"use strict";n(xe,"safeFetch");n(Ka,"timeoutSignal")});function ar(e){return Object.isFrozen(e)?Object.assign({},e):e}var kn=c(()=>{"use strict";n(ar,"unfreeze")});function q(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var a={...e};return r.forEach(function(l){return delete a[l]}),a}var Hn=c(()=>{"use strict";n(q,"without")});var ir={};A(ir,{findInReactTree:()=>le,findInTree:()=>st,safeFetch:()=>xe,unfreeze:()=>ar,without:()=>q});var Te=c(()=>{"use strict";Un();Vn();Gn();kn();Hn()});function sr(){return{listeners:Object.values(lr).reduce(function(e,t){return e[t]=new Set,e},{}),on(e,t){this.listeners[e].has(t)||this.listeners[e].add(t)},off(e,t){this.listeners[e].delete(t)},once(e,t){var r=this,o=n(function(a,l){r.off(a,o),t(a,l)},"once");this.on(e,o)},emit(e,t){for(var r of this.listeners[e])r(e,t)}}}var lr,jn=c(()=>{"use strict";(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(lr||(lr={}));n(sr,"createEmitter")});var $n={};A($n,{BundleUpdaterManager:()=>ct,ClientInfoManager:()=>Dt,DeviceManager:()=>ce,FileManager:()=>I,MMKVManager:()=>he,ThemeManager:()=>cr});var se,he,I,Dt,ce,ct,cr,we=c(()=>{"use strict";se=window.nativeModuleProxy,he=se.MMKVManager;I=se.DCDFileManager??se.RTNFileManager;Dt=se.InfoDictionaryManager??se.RTNClientInfoManager;ce=se.DCDDeviceManager??se.RTNDeviceManager,ct=se.BundleUpdaterManager,cr=se.RTNThemeManager??se.DCDTheme});var zn,ur,Kn,fr,Ce,$e,Wn=c(()=>{"use strict";we();h();zn=/[<>:"\/\\|?*]/g,ur=n(function(e){return f.Platform.select({default:e,ios:I.saveFileToGallery?e:`Documents/${e}`})},"filePathFixer"),Kn=n(function(e){return zn.test(e)&&(e=e.replace(zn,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`},"getMMKVPath"),fr=n(async function(e){await he.getItem(e)&&he.removeItem(e);var t=Kn(e);await I.fileExists(`${I.getConstants().DocumentsDirPath}/${t}`)&&await I.removeFile?.("documents",t)},"purgeStorage"),Ce=n(function(e){var t=Kn(e);return $e(t,async function(){var r=`${I.getConstants().DocumentsDirPath}/${t}`;if(!await I.fileExists(r)){var o=await he.getItem(e)??"{}";if(o==="!!LARGE_VALUE!!"){var a=`${I.getConstants().CacheDirPath}/mmkv/${e}`;await I.fileExists(a)?o=await I.readFile(a,"utf8"):(console.log(`${e}: Experienced data loss :(`),o="{}")}try{JSON.parse(o)}catch{console.error(`${e} had an unparseable data while migrating`),o="{}"}await I.writeFile("documents",ur(t),o,"utf8"),await he.getItem(e)!==null&&(he.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}}())},"createMMKVBackend"),$e=n(function(e,t){return{get:async function(){await t;var r=`${I.getConstants().DocumentsDirPath}/${e}`;if(await I.fileExists(r)){var o=await I.readFile(r,"utf8");try{return JSON.parse(o)}catch{}}return await I.writeFile("documents",ur(e),"{}","utf8"),JSON.parse(await I.readFile(r,"utf8"))},set:async function(r){await t,await I.writeFile("documents",ur(e),JSON.stringify(r),"utf8")}}},"createFileBackend")});var mr={};A(mr,{awaitSyncWrapper:()=>ze,createFileBackend:()=>$e,createMMKVBackend:()=>Ce,createProxy:()=>Jn,createStorage:()=>ve,purgeStorage:()=>fr,useProxy:()=>_,wrapSync:()=>Ie});function Jn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=sr();function r(o,a){return new Proxy(o,{get(l,i){if(i===Yn)return t;var u=[...a,i],d=l[i];return d!=null?(t.emit("GET",{path:u,value:d}),typeof d=="object"?r(d,u):d):d},set(l,i,u){return l[i]=u,t.emit("SET",{path:[...a,i],value:u}),!0},deleteProperty(l,i){var u=delete l[i];return u&&t.emit("DEL",{path:[...a,i]}),u}})}return n(r,"createProxy"),{proxy:r(e,[]),emitter:t}}function _(e){var t=e[Yn],[,r]=React.useReducer(function(o){return~o},0);return React.useEffect(function(){var o=n(function(){return r()},"listener");return t.on("SET",o),t.on("DEL",o),function(){t.off("SET",o),t.off("DEL",o)}},[]),e}async function ve(e){var t=await e.get(),{proxy:r,emitter:o}=Jn(t),a=n(function(){return e.set(r)},"handler");return o.on("SET",a),o.on("DEL",a),r}function Ie(e){var t=void 0,r=[],o=n(function(a){return t?a():r.push(a)},"awaitInit");return e.then(function(a){t=a,r.forEach(function(l){return l()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(a){return[a,function(l){for(var i=arguments.length,u=new Array(i>1?i-1:0),d=1;d<i;d++)u[d-1]=arguments[d];return Reflect[a](t??l,...u)}]})),get(a,l,i){return l===Xn?o:Reflect.get(t??a,l,i)}})}var Yn,Xn,ze,U=c(()=>{"use strict";jn();Wn();Yn=Symbol.for("vendetta.storage.emitter"),Xn=Symbol.for("vendetta.storage.accessor");n(Jn,"createProxy");n(_,"useProxy");n(ve,"createStorage");n(Ie,"wrapSync");ze=n(function(e){return new Promise(function(t){return e[Xn](t)})},"awaitSyncWrapper")});var dr,Wa,L,Me=c(()=>{"use strict";S();dr=s("setLogFn").default,Wa=new dr("Vendetta"),L=Wa});var Bt={};A(Bt,{applyTheme:()=>mt,color:()=>P,fetchTheme:()=>ut,getThemeFromLoader:()=>Ye,initThemes:()=>ei,installTheme:()=>Re,patchChatBackground:()=>gr,removeTheme:()=>ft,selectTheme:()=>Le,themes:()=>D,updateThemes:()=>to});async function pr(e){if(typeof e!="object")throw new Error("Theme must be an object");await $e(Bn()||"theme.json").set(e)}function gr(){var e=K("MessagesWrapperConnected",!1);if(e){var{MessagesWrapper:t}=s("MessagesWrapper");if(t){var r=[y("default",e,function(o,a){return React.createElement(f.ImageBackground,{style:{flex:1,height:"100%"},source:Y?.data?.background?.url&&{uri:Y.data.background.url}||0,blurRadius:typeof Y?.data?.background?.blur=="number"?Y?.data?.background?.blur:0,children:a})}),y("render",t.prototype,function(o,a){var l=le(a,function(i){return"HACK_fixModalInteraction"in i?.props&&i?.props?.style});l?l.props.style=Object.assign(f.StyleSheet.flatten(l.props.style??{}),{backgroundColor:"#0000"}):L.error("Didn't find Messages when patching MessagesWrapper!")})];return function(){return r.forEach(function(o){return o()})}}}}function qn(e){if(ye.valid(e))return ye(e).hex();var t=Number(f.processColor(e));return ye.rgb(t>>16&255,t>>8&255,t&255,t>>24&255).hex()}function Xa(e){if(e.semanticColors){var t=e.semanticColors;for(var r in t)for(var o in t[r])t[r][o]&&=qn(t[r][o])}if(e.rawColors){var a=e.rawColors;for(var l in a)e.rawColors[l]=qn(a[l]);f.Platform.OS==="android"&&Ja(a)}return e}function Ja(e){var t={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var r in t){var[o,a]=t[r];e[o]&&(e[r]=ye(e[o]).alpha(a).hex())}}async function ut(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;try{r=await(await xe(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}D[e]={id:e,selected:t,data:Xa(r)},t&&pr(D[e])}async function Re(e){if(typeof e!="string"||e in D)throw new Error("Theme already installed");await ut(e)}async function Le(e){if(Object.values(D).forEach(function(t){return t.selected=t.id===e}),e==="default")return await pr({});await pr(D[e])}async function ft(e){var t=D[e];return t.selected&&await Le("default"),delete D[e],t.selected}function Ye(){return nr()}async function to(){await ze(D);var e=Ye();await Promise.allSettled(Object.keys(D).map(function(t){return ut(t,e?.id===t)}))}function Za(){var e=G(function(r){return r.isThemeDark&&Object.getOwnPropertyDescriptor(r,"isThemeDark")?.value}),t=n(function(r){var[o]=r;return o===X?[ee]:void 0},"callback");Object.keys(P.RawColor).forEach(function(r){Object.defineProperty(P.RawColor,r,{configurable:!0,enumerable:!0,get:function(){return We?Y?.data?.rawColors?.[r]??eo[r]:eo[r]}})}),be("isThemeDark",e,t),be("isThemeLight",e,t),be("updateTheme",cr,t),Ke.addChangeListener(function(){Ke.theme&&(We=Ke.theme===X,Ke.theme!==X&&(ee=Ke.theme))}),y("get",Zn,function(r,o){var[a]=r;a==="SelectivelySyncedUserSettingsStore"?o?._state?.appearance?.settings?.theme&&(o._state.appearance.settings.theme=We?X:ee):a==="ThemeStore"&&o?._state?.theme&&(o._state.theme=We?X:ee)}),be("set",Zn,function(r){if(r[1]){var o=r[0],a=JSON.parse(JSON.stringify(r[1])),l={SelectivelySyncedUserSettingsStore:function(){a._state?.appearance?.settings?.theme&&(a._state.appearance.settings.theme=ee)},ThemeStore:function(){a._state?.theme&&(a._state.theme=ee)}};return o in l?(l[o](),[o,a]):r}}),Q("resolveSemanticColor",P.default.meta??P.default.internal,function(r,o){if(!We||!Y)return o(...r);if(r[1]!==X)return o(...r);var[a,l]=ro(ee,r[1]),i=ee==="midnight"?2:ee==="light"?1:0;var u=Ya[a]??a,d=(Y.data?.semanticColors?.[a]??Y.data?.semanticColors?.[u])?.[i];if(a==="CHAT_BACKGROUND"&&typeof Y.data?.background?.alpha=="number")return ye(d||"black").alpha(1-Y.data.background.alpha).hex();if(d)return d;var R=Y.data?.rawColors?.[l.raw];return R?l.opacity===1?R:ye(R).alpha(l.opacity).hex():o(...r)})}function qa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"darker",t=Ke.theme.toLowerCase();return t==="darker"||t==="midnight"||t==="dark"||t==="light"?t:e}function mt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t||(t=qa()),Y=e,ee=t,X=`vd-theme-${Qa++}-${t}`,e&&(P.Theme[X.toUpperCase()]=X,Object.keys(P.Shadow).forEach(function(o){return P.Shadow[o][X]=P.Shadow[o][t]}),Object.keys(P.SemanticColor).forEach(function(o){P.SemanticColor[o][X]={...P.SemanticColor[o][t],override:e?.data?.semanticColors?.[o]?.[0]}})),r&&(Qn.setShouldSyncAppearanceSettings(!1),Qn.updateTheme(e?X:t))}async function ei(){var e=Ye();We=!!e,Za(),mt(e,ee,!1),await to()}function ro(e,t){var r=t[ro._sym??=Object.getOwnPropertySymbols(t)[0]],o=P.SemanticColor[r];return[r,o[e]]}var P,Qn,Zn,Ke,D,Ya,eo,Qa,X,ee,We,Y,te=c(()=>{"use strict";h();Te();S();V();U();Me();we();ge();P=s("SemanticColor"),Qn=s("updateTheme"),Zn=s("storage"),Ke=Be("ThemeStore"),D=Ie(ve(Ce("VENDETTA_THEMES"))),Ya={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"};n(pr,"writeTheme");n(gr,"patchChatBackground");n(qn,"normalizeToHex");n(Xa,"processData");n(Ja,"applyAndroidAlphaKeys");n(ut,"fetchTheme");n(Re,"installTheme");n(Le,"selectTheme");n(ft,"removeTheme");n(Ye,"getThemeFromLoader");n(to,"updateThemes");eo={...P.RawColor},Qa=0,X="vd-theme",ee="darker",We=!1;n(Za,"patchColor");n(qa,"getDefaultFallbackTheme");n(mt,"applyTheme");n(ei,"initThemes");n(ro,"extractInfo")});var hr,f,ye,dt=c(()=>{"use strict";ge();hr=n(function(e){for(var t in window.modules){var r=window.modules[t]?.publicModule.exports;if(r&&e(r))return r}},"basicFind");window.React=hr(function(e){return e.createElement});f=hr(function(e){return e.AppRegistry}),ye=hr(function(e){return e.brewer});if(W())try{(te(),En(Bt)).initThemes()}catch(e){console.error("[Vendetta] Failed to initialize themes...",e)}});var Sr={};A(Sr,{Flux:()=>ii,FluxDispatcher:()=>Lt,NavigationNative:()=>Ee,React:()=>Fe,ReactNative:()=>f,assets:()=>pt,channels:()=>yr,chroma:()=>ye,clipboard:()=>k,commands:()=>Mt,constants:()=>Xe,i18n:()=>Oe,invites:()=>ni,lodash:()=>Ot,moment:()=>Er,navigation:()=>oi,navigationStack:()=>ai,stylesheet:()=>B,toasts:()=>Rr,url:()=>Je,util:()=>li});function ri(e){if(vr){for(var t in e)e[t]=new Proxy(f.StyleSheet.flatten(e[t]),{get(r,o,a){var l=Reflect.get(r,o,a);return no.isSemanticColor(l)?no.resolveSemanticColor(ti.theme,l):l}});return e}}var ti,vr,no,Xe,yr,Oe,Je,Rr,B,k,pt,ni,Mt,oi,ai,Ee,ii,Lt,Fe,Er,Ot,li,h=c(()=>{"use strict";S();dt();dt();dt();ti=Be("ThemeStore"),vr=s("colors","unsafe_rawColors"),no=vr.internal??vr.meta;n(ri,"createThemedStyleSheet");Xe=s("Fonts","Permissions"),yr=s("getVoiceChannelId"),Oe=s("Messages"),Je=s("openURL","openDeeplink"),Rr=G(function(e){return e.open&&e.close&&!e.startDrag&&!e.init&&!e.openReplay&&!e.setAlwaysOnTop&&!e.setAccountFlag}),B={...G(function(e){return e.createStyles&&!e.ActionSheet}),createThemedStyleSheet:ri,...s("createThemedStyleSheet")},k=s("setString","getString","hasString"),pt=s("registerAsset"),ni=s("acceptInviteAndTransitionToInviteChannel"),Mt=s("getBuiltInCommands"),oi=s("pushLazy"),ai=s("createStackNavigator"),Ee=s("NavigationContainer"),ii=s("connectStores"),Lt=s("_currentDispatchActionType"),Fe=window.React,Er=s("isMoment"),Ot=s("forEachRight"),li=s("inspect","isNullOrUndefined")});var br={};A(br,{all:()=>Se,find:()=>si,getAssetByID:()=>ui,getAssetByName:()=>ci,getAssetIDByName:()=>m,patchAssets:()=>_r});function _r(){for(var e=y("registerAsset",pt,function(o,a){var l=o[0];Se[l.name]={...l,id:a}}),t=1;;t++){var r=pt.getAssetByID(t);if(!r)break;Se[r.name]||(Se[r.name]={...r,id:t})}return e}var Se,si,ci,ui,m,T=c(()=>{"use strict";h();V();Se={};n(_r,"patchAssets");si=n(function(e){return Object.values(Se).find(e)},"find"),ci=n(function(e){return Se[e]},"getAssetByName"),ui=n(function(e){return pt.getAssetByID(e)},"getAssetByID"),m=n(function(e){return Se[e]?.id},"getAssetIDByName")});var Tr={};A(Tr,{showToast:()=>g});var fi,g,ue=c(()=>{"use strict";S();h();T();({uuid4:fi}=s("uuid4")),g=n(function(e,t){return Rr.open({key:`vd-toast-${fi()}`,content:e,source:t,icon:t})},"showToast");g.showCopyToClipboard=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Copied plugin URL to clipboard.";(f.Platform.OS!=="android"||f.Platform.Version<=32)&&g(e,m("toast_copy_link"))}});var p,re,H=c(()=>{"use strict";U();ge();p=Ie(ve(Ce("VENDETTA_SETTINGS"))),re=Ie(ve($e(Fn())))});var Ir={};A(Ir,{connectToDebugger:()=>xr,getDebugInfo:()=>Cr,patchLogHook:()=>wr,socket:()=>J,toggleSafeMode:()=>gt,versionHash:()=>Ft});async function gt(){p.safeMode={...p.safeMode,enabled:!p.safeMode?.enabled},W()&&(Ye()?.id&&(p.safeMode.currentThemeId=Ye().id),p.safeMode?.enabled?await Le("default"):p.safeMode?.currentThemeId&&await Le(p.safeMode?.currentThemeId)),setTimeout(ct.reload,400)}function xr(e){if(J!==void 0&&J.readyState!==WebSocket.CLOSED&&J.close(),!e){g("Invalid debugger URL!",m("Small"));return}J=new WebSocket(`ws://${e}`),J.addEventListener("open",function(){return g("Connected to debugger.",m("Check"))}),J.addEventListener("message",function(t){try{(0,eval)(t.data)}catch(r){console.error(r)}}),J.addEventListener("error",function(t){console.log(`Debugger error: ${t.message}`),g("An error occurred with the debugger connection!",m("Small"))})}function wr(){var e=y("nativeLoggingHook",globalThis,function(t){J?.readyState===WebSocket.OPEN&&J.send(JSON.stringify({message:t[0],level:t[1]})),L.log(t[0])});return function(){J&&J.close(),e()}}function Cr(){var e=window.HermesInternal.getRuntimeProperties(),t=e["OSS Release Version"],r="for RN ",o=f.Platform.constants,a=o.reactNativeVersion;return{vendetta:{version:Ft,loader:W()},discord:{version:Dt.Version,build:Dt.Build},react:{version:React.version,nativeVersion:t.startsWith(r)?t.substring(r.length):`${a.major}.${a.minor}.${a.patch}`},hermes:{version:t,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...f.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...f.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:ce.device}},ios:{device:{manufacturer:ce.deviceManufacturer,brand:ce.deviceBrand,model:ce.deviceModel,codename:ce.device}}})}}var J,Ft,Qe=c(()=>{"use strict";h();V();te();we();T();ue();H();Me();ge();n(gt,"toggleSafeMode");n(xr,"connectToDebugger");n(wr,"patchLogHook");Ft="5c5668d";n(Cr,"getDebugInfo")});var j,oo,ao,ht,Ze=c(()=>{"use strict";(function(e){e.BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"})(j||(j={}));(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(oo||(oo={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(ao||(ao={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(ht||(ht={}))});var Ar={};A(Ar,{patchCommands:()=>Nr,registerCommand:()=>mi});function Nr(){var e=y("getBuiltInCommands",Mt,function(t,r){var[o]=t;if(o===ht.CHAT)return r.concat(vt)});return function(){vt=[],e()}}function mi(e){var t=Mt.getBuiltInCommands(ht.CHAT,!0,!1);t.sort(function(o,a){return parseInt(a.id)-parseInt(o.id)});var r=t[t.length-1];return e.id=(parseInt(r.id,10)-1).toString(),vt.push(e),function(){return vt=vt.filter(function(o){var{id:a}=o;return a!==e.id})}}var vt,Pr=c(()=>{"use strict";Ze();h();V();vt=[];n(Nr,"patchCommands");n(mi,"registerCommand")});var di,pi,gi,io,lo=c(()=>{"use strict";di=n(function(e){return{status:"fulfilled",value:e}},"allSettledFulfill"),pi=n(function(e){return{status:"rejected",reason:e}},"allSettledReject"),gi=n(function(e){return Promise.resolve(e).then(di,pi)},"mapAllSettled"),io=n(function(e){return Promise.all(Array.from(e).map(gi))},"allSettled")});var Mr={};A(Mr,{evalPlugin:()=>so,fetchPlugin:()=>qe,getSettings:()=>Br,initPlugins:()=>Dr,installPlugin:()=>fe,plugins:()=>C,removePlugin:()=>yt,startPlugin:()=>et,stopPlugin:()=>tt});async function qe(e){e.endsWith("/")||(e+="/");var t=C[e],r;try{r=await(await xe(e+"manifest.json",{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(t?.manifest.hash!==r.hash)try{o=await(await xe(e+(r.main||"index.js"),{cache:"no-store"})).text()}catch{}if(!o&&!t)throw new Error(`Failed to fetch JS for ${e}`);C[e]={id:e,manifest:r,enabled:t?.enabled??!1,update:t?.update??!0,js:o??t.js}}async function fe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in C)throw new Error("Plugin already installed");await qe(e),t&&await et(e)}async function so(e){var t={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await ve(Ce(e.id))},logger:new dr(`Bunny \xBB ${e.manifest.name}`)},r=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(r)(t),a=typeof o=="function"?o():o;return a?.default??a??{}}async function et(e){e.endsWith("/")||(e+="/");var t=C[e];if(!t)throw new Error("Attempted to start non-existent plugin");try{if(!p.safeMode?.enabled){var r=await so(t);Ue[e]=r,r.onLoad?.()}t.enabled=!0}catch(o){L.error(`Plugin ${t.id} errored whilst loading, and will be unloaded`,o);try{Ue[t.id]?.onUnload?.()}catch(a){L.error(`Plugin ${t.id} errored whilst unloading`,a)}delete Ue[e],t.enabled=!1}}function tt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.endsWith("/")||(e+="/");var r=C[e],o=Ue[e];if(!r)throw new Error("Attempted to stop non-existent plugin");if(!p.safeMode?.enabled){try{o?.onUnload?.()}catch(a){L.error(`Plugin ${r.id} errored whilst unloading`,a)}delete Ue[e]}t&&(r.enabled=!1)}async function yt(e){e.endsWith("/")||(e+="/");var t=C[e];t.enabled&&tt(e),delete C[e],await fr(e)}async function Dr(){await ze(p),await ze(C);var e=Object.keys(C);return p.safeMode?.enabled||(await io(e.filter(function(t){return C[t].enabled}).map(async function(t){return C[t].update&&await qe(t).catch(function(r){return L.error(r.message)}),await et(t)})),e.filter(function(t){return!C[t].enabled&&C[t].update}).forEach(function(t){return qe(t)})),hi}var C,Ue,hi,Br,Ne=c(()=>{"use strict";Te();U();lo();Me();H();C=Ie(ve(Ce("VENDETTA_PLUGINS"))),Ue={};n(qe,"fetchPlugin");n(fe,"installPlugin");n(so,"evalPlugin");n(et,"startPlugin");n(tt,"stopPlugin");n(yt,"removePlugin");n(Dr,"initPlugins");hi=n(function(){return Object.keys(Ue).forEach(function(e){return tt(e,!1)})},"stopAllPlugins"),Br=n(function(e){return Ue[e]?.settings},"getSettings")});var Vr={};A(Vr,{DISCORD_SERVER:()=>Lr,DISCORD_SERVER_ID:()=>Fr,GITHUB:()=>Or,HTTP_REGEX:()=>vi,HTTP_REGEX_MULTI:()=>Ge,PLUGINS_CHANNEL_ID:()=>Ur,PROXY_PREFIX:()=>Ve,THEMES_CHANNEL_ID:()=>Rt});var Lr,Or,Ve,vi,Ge,Fr,Ur,Rt,Ae=c(()=>{"use strict";Lr="https://discord.gg/XjYgWXHb9Q",Or="https://github.com/pyoncord",Ve="https://vd-plugins.github.io/proxy",vi=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/,Ge=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g,Fr="1015931589865246730",Ur="1091880384561684561",Rt="1091880434939482202"});function _i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.guild_id===Fr){var o;if(e.parent_id===Ur)o="Plugin";else if(e.parent_id===Rt&&W())o="Theme";else return;var{firstMessage:a}=r?Ei(e):{firstMessage:t},l=a?.content?.match(Ge)?.filter(Et[o].urlsFilter);if(!(!l||!l[0]))return o==="Plugin"&&!l[0].endsWith("/")&&(l[0]+="/"),[o,l[0]]}}function uo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,[o,a]=_i(e,t,r)??[];_(C),_(D);var[l,i]=React.useState(!1);if(!o||!a)return[!0];var u=!!Et[o].storage[a],d=n(async function(){i(!0);try{await Et[o].installOrRemove(a)}catch(R){g(R.message,m("Small"))}finally{i(!1)}},"installOrRemove");return[!1,o,u,l,d]}function Gr(){var e=[bi(),Ti()];return function(){return e.map(function(t){return t()})}}var yi,co,Ri,Ei,Si,Et,bi,Ti,fo=c(()=>{"use strict";S();Ae();V();Ne();te();Te();T();ue();U();ge();yi=K("ForumPostLongPressActionSheet",!1),{ActionSheetRow:co}=s("ActionSheetRow"),{Button:Ri}=s("TableRow"),{useFirstForumPostMessage:Ei}=s("useFirstForumPostMessage"),Si=s("MostCommonForumPostReaction"),Et={Plugin:{storage:C,urlsFilter:function(e){return e.startsWith(Ve)},installOrRemove:function(e){var t=Et.Plugin.storage[e];return t?yt(e):fe(e)}},Theme:{storage:D,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){var t=Et.Theme.storage[e];return t?ft(e):Re(e)}}};n(_i,"useExtractThreadContent");n(uo,"useInstaller");bi=n(function(){return y("default",yi,function(e,t){var[{thread:r}]=e,[o,a,l,i,u]=uo(r);if(!o){var d=le(t,function(N){return N?.[0]?.key}),R=d[0].type;d.unshift(React.createElement(R,{key:"install"},React.createElement(co,{icon:React.createElement(co.Icon,{source:m(l?"ic_message_delete":"DownloadIcon")}),label:`${l?"Uninstall":"Install"} ${a}`,disabled:i,onPress:u})))}})},"actionSheetPatch"),Ti=n(function(){return y("MostCommonForumPostReaction",Si,function(e,t){var[{thread:r,firstMessage:o}]=e,[a,l,i,u,d]=uo(r,o,!0);if(!a)return React.createElement(React.Fragment,null,t,React.createElement(Ri,{size:"sm",loading:u,disabled:u,variant:i?"danger":"primary",text:i?"Uninstall":"Install",onPress:d,icon:m(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}}))})},"installButtonPatch");n(Gr,"default")});function rt(e){var{label:t,icon:r,noPadding:o=!1,noAnimation:a=!1,children:l}=e,[i,u]=React.useState(!0);return React.createElement(React.Fragment,null,React.createElement(mo,{label:t,icon:r&&React.createElement(mo.Icon,{source:m(r)}),trailing:React.createElement(xi.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:function(){u(!i),a||f.LayoutAnimation.configureNext(f.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&React.createElement(React.Fragment,null,React.createElement(f.View,{style:!o&&{paddingHorizontal:15}},l)))}var xi,mo,po=c(()=>{"use strict";h();T();S();({FormRow:xi}=s("FormRow")),{TableRow:mo}=s("TableRow");n(rt,"Summary")});function go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ho=c(()=>{n(go,"_class_call_check")});function vo(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yo(e,t,r){return t&&vo(e.prototype,t),r&&vo(e,r),e}var Ro=c(()=>{n(vo,"_defineProperties");n(yo,"_create_class")});function Eo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var So=c(()=>{n(Eo,"_define_property")});function Ut(e,t){return Ut=Object.setPrototypeOf||n(function(o,a){return o.__proto__=a,o},"setPrototypeOf"),Ut(e,t)}var _o=c(()=>{n(Ut,"_set_prototype_of")});function bo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}var To=c(()=>{_o();n(bo,"_inherits")});function St(e){return St=Object.setPrototypeOf?Object.getPrototypeOf:n(function(r){return r.__proto__||Object.getPrototypeOf(r)},"getPrototypeOf"),St(e)}var xo=c(()=>{n(St,"_get_prototype_of")});function wo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Co=c(()=>{n(wo,"_is_native_reflect_construct")});function Io(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var No=c(()=>{n(Io,"_assert_this_initialized")});function Ao(e){return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var Po=c(()=>{n(Ao,"_type_of")});function Do(e,t){return t&&(Ao(t)==="object"||typeof t=="function")?t:Io(e)}var Bo=c(()=>{No();Po();n(Do,"_possible_constructor_return")});function Mo(e){var t=wo();return n(function(){var o=St(e),a;if(t){var l=St(this).constructor;a=Reflect.construct(o,arguments,l)}else a=o.apply(this,arguments);return Do(this,a)},"_createSuperInternal")}var Lo=c(()=>{xo();Co();Bo();n(Mo,"_create_super")});var Oo,wi,M,Vt=c(()=>{"use strict";ho();Ro();So();To();Lo();h();$();Oo=B.createThemedStyleSheet({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),M=function(e){"use strict";bo(r,e);var t=Mo(r);function r(o){go(this,r);var a;return a=t.call(this,o),a.state={hasErr:!1},a}return n(r,"ErrorBoundary"),yo(r,[{key:"render",value:n(function(){var a=this;return this.state.hasErr?Fe.createElement(f.ScrollView,{style:Oo.view},Fe.createElement(O.FormText,{style:Oo.title},"Uh oh."),Fe.createElement(ke,{selectable:!0,style:{marginBottom:5}},this.state.errText),Fe.createElement(me,{color:me.Colors.RED,size:me.Sizes.MEDIUM,look:me.Looks.FILLED,onPress:function(){return a.setState({hasErr:!1,errText:void 0})},text:"Retry"})):this.props.children},"render")}]),r}(wi=Fe.Component);Eo(M,"getDerivedStateFromError",function(e){return{hasErr:!0,errText:e.message}})});var kr={};A(kr,{rawColors:()=>Ci,semanticColors:()=>b});var b,Ci,_e=c(()=>{"use strict";h();te();b=P?.default?.colors??Xe?.ThemeColorMap,Ci=P?.default?.unsafe_rawColors??Xe?.Colors});function ke(e){var{selectable:t,style:r,children:o}=e;return t?f.Platform.select({ios:React.createElement(Ii,{style:r,children:o}),default:React.createElement(Fo,{style:r,children:o,selectable:!0})}):React.createElement(Fo,{style:r,children:o})}var Uo,Ii,Fo,Vo=c(()=>{"use strict";h();_e();Uo=B.createThemedStyleSheet({codeBlock:{fontFamily:Xe.Fonts.CODE_SEMIBOLD,fontSize:12,textAlignVertical:"center",backgroundColor:b.BACKGROUND_SECONDARY,color:b.TEXT_NORMAL,borderWidth:1,borderRadius:4,borderColor:b.BACKGROUND_TERTIARY,padding:10}}),Ii=n(function(e){var{style:t,children:r}=e;return React.createElement(f.TextInput,{editable:!1,multiline:!0,style:[Uo.codeBlock,t&&t],value:r})},"InputBasedCodeblock"),Fo=n(function(e){var{selectable:t,style:r,children:o}=e;return React.createElement(f.Text,{selectable:t,style:[Uo.codeBlock,r&&r]},o)},"TextBasedCodeblock");n(ke,"Codeblock")});function Ai(){return React.createElement(f.Image,{style:{transform:[{scale:.8}]},source:m("search")})}function He(e){var{onChangeText:t,placeholder:r,style:o}=e,[a,l]=React.useState(""),i=n(function(u){l(u),t?.(u)},"onChange");return React.createElement(M,null,React.createElement(f.View,{style:o},React.createElement(Ni,{isClearable:!0,grow:!0,leadingIcon:Ai,placeholder:r??"Search",onChange:i,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:a})))}var gu,Ni,Go=c(()=>{"use strict";h();S();Vt();T();({FormIcon:gu}=s("FormIcon")),{TextInput:Ni}=s("TableRow");n(Ai,"SearchIcon");n(He,"default")});var zr={};A(zr,{Alert:()=>Hr,Button:()=>me,Codeblock:()=>ke,ErrorBoundary:()=>M,Forms:()=>O,General:()=>Pi,HelpMessage:()=>jr,SafeAreaView:()=>$r,Search:()=>He,Summary:()=>rt});var O,Pi,Hr,me,jr,$r,$=c(()=>{"use strict";S();po();Vt();Vo();Go();O=s("Form","FormSection"),Pi=s("Button","Text","View"),Hr=er("FluxContainer(Alert)"),me=s("Looks","Colors","Sizes"),jr=K("HelpMessage"),$r=s("useSafeAreaInsets").SafeAreaView});function Kr(e){var{title:t,confirmText:r,confirmColor:o,onConfirm:a,cancelText:l,placeholder:i,initialValue:u="",secureTextEntry:d}=e,[R,N]=React.useState(u),[E,v]=React.useState("");function x(){var w=Promise.resolve(a(R));w.then(function(){ko.close()}).catch(function(De){v(De.message)})}return n(x,"onConfirmWrapper"),React.createElement(Hr,{title:t,confirmText:r,confirmColor:o,isConfirmButtonDisabled:E.length!==0,onConfirm:x,cancelText:l,onCancel:function(){return ko.close()}},React.createElement(Di,{placeholder:i,value:R,onChange:function(w){N(typeof w=="string"?w:w.text),E&&v("")},returnKeyType:"done",onSubmitEditing:x,error:E||void 0,secureTextEntry:d,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}}))}var Di,ko,Ho=c(()=>{"use strict";S();$();({FormInput:Di}=O),ko=s("openLazy","close");n(Kr,"InputAlert")});var Wr={};A(Wr,{showConfirmationAlert:()=>ne,showCustomAlert:()=>$o,showInputAlert:()=>_t});function ne(e){var t=e;return t.body=e.content,delete t.content,t.isDismissable??=!0,jo.show(t)}var jo,$o,_t,Pe=c(()=>{"use strict";S();Ho();jo=s("openLazy","close");n(ne,"showConfirmationAlert");$o=n(function(e,t){return jo.openLazy({importer:async function(){return function(){return React.createElement(e,t)}}})},"showCustomAlert"),_t=n(function(e){return $o(Kr,e)},"showInputAlert")});function zo(e){return e.startsWith(Ve)?"Plugin":e.endsWith(".json")&&W()?"Theme":void 0}function Ko(e,t){(e==="Plugin"?fe:Re)(t).then(function(){g("Successfully installed",m("Check"))}).catch(function(r){g(r.message,m("Small"))})}function Yr(){var e=new Array;return e.push(y("showSimpleActionSheet",Bi,function(t){if(t[0].key==="LongPressUrl"){var{header:{title:r},options:o}=t[0],a=zo(r);a&&o.push({label:`Install ${a}`,onPress:function(){return Ko(a,r)}})}})),e.push(Q("handleClick",Mi,async function(t,r){var{href:o}=t[0],a=zo(o);if(!a)return r.apply(this,t);if(a==="Theme"&&Fi(Oi())?.parent_id!==Rt)return r.apply(this,t);ne({title:"Hold Up",content:["This link is a ",React.createElement(f.Text,{style:Ui["text-md/semibold"]},a),", would you like to install it?"],onConfirm:function(){return Ko(a,o)},confirmText:"Install",cancelText:"Cancel",secondaryConfirmText:"Open in Browser",onConfirmSecondary:function(){return Li(o)}})})),function(){return e.forEach(function(t){return t()})}}var Bi,Mi,Li,Oi,Fi,Ui,Wo=c(()=>{"use strict";S();h();Ae();V();Ne();te();Pe();T();ue();ge();Bi=G(function(e){return e?.showSimpleActionSheet&&!Object.getOwnPropertyDescriptor(e,"showSimpleActionSheet")?.get}),Mi=s("handleClick"),{openURL:Li}=Je,{getChannelId:Oi}=yr,{getChannel:Fi}=s("getChannel"),{TextStyleSheet:Ui}=s("TextStyleSheet");n(zo,"typeFromUrl");n(Ko,"installWithToast");n(Yr,"default")});function Xr(){var e=new Array;return e.push(Gr()),e.push(Yr()),function(){return e.forEach(function(t){return t()})}}var Yo=c(()=>{"use strict";fo();Wo();n(Xr,"initQuickInstall")});function Jr(){return y("render",Vi.prototype,function(e,t){var r=this;if(this.state.error){this.state.activeTab??="message";var o=Jo.find(function(i){return i.id===r.state.activeTab}),a=this.state.error[this.state.activeTab],l=[{text:"Restart Discord",onPress:this.handleReload},...p.safeMode?.enabled?[]:[{text:"Restart in Safe Mode",onPress:gt}],{text:"Retry Render",color:j.RED,onPress:function(){return r.setState({info:null,error:null})}}];return React.createElement(M,null,React.createElement($r,{style:bt.container},React.createElement(f.View,{style:bt.header},React.createElement(t.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),React.createElement(f.View,{style:{flex:2,paddingLeft:24}},React.createElement(f.Text,{style:bt.headerTitle},t.props.title),React.createElement(f.Text,{style:bt.headerDescription},t.props.body))),React.createElement(f.View,{style:{flex:6}},React.createElement(f.View,{style:{paddingBottom:8}},React.createElement(Gi,{tabs:Jo,activeTab:this.state.activeTab,onTabSelected:function(i){r.setState({activeTab:i})}})),React.createElement(ke,{selectable:!0,style:{flex:1,textAlignVertical:"top"}},o?.trimWhitespace?a.split(`
`).filter(function(i){return i.length!==0}).map(function(i){return i.trim()}).join(`
`):a)),React.createElement(f.View,{style:bt.footer},l.map(function(i){var u=l.indexOf(i)!==0?8:0;return React.createElement(me,{text:i.text,color:i.color??j.BRAND,size:i.size??"small",onPress:i.onPress,style:ce.isTablet?{flex:`0.${l.length}`,marginLeft:u}:{marginTop:u}})}))))}})}var Vi,Gi,tf,Xo,bt,Jo,Qo=c(()=>{"use strict";Ze();h();S();V();Qe();we();_e();$();H();Vi=K("ErrorBoundary"),{BadgableTabBar:Gi}=s("BadgableTabBar"),tf=Be("ThemeStore"),{TextStyleSheet:Xo}=s("TextStyleSheet"),bt=B.createThemedStyleSheet({container:{flex:1,backgroundColor:b.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...Xo["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:b.HEADER_PRIMARY},headerDescription:{...Xo["text-sm/medium"],textAlign:"center",color:b.TEXT_MUTED},footer:{flexDirection:ce.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),Jo=[{id:"message",title:"Message"},{id:"stack",title:"Stack Trace"},{id:"componentStack",title:"Component",trimWhitespace:!0}];n(Jr,"default")});function Gt(e){var{alertTitle:t,installFunction:r}=e;return React.createElement(f.TouchableOpacity,{onPress:function(){return k.getString().then(function(o){return _t({title:t,initialValue:o.match(Ge)?.[0]??"",placeholder:"https://example.com/",onConfirm:function(a){return r(a)},confirmText:"Install",cancelText:"Cancel"})})}},React.createElement(f.Image,{style:ki.icon,source:m("ic_add_24px")}))}var ki,Zo=c(()=>{"use strict";h();Ae();Pe();T();_e();ki=B.createThemedStyleSheet({icon:{marginRight:10,tintColor:b.HEADER_PRIMARY}});n(Gt,"InstallButton")});function kt(e){var{label:t,version:r,icon:o,padding:a}=e;return React.createElement(qo,{style:a&&{paddingHorizontal:15,paddingVertical:-15},label:t,icon:React.createElement(qo.Icon,{source:m(o)}),trailing:React.createElement(Hi,null,r),onPress:function(){k.setString(`${t} - ${r}`),g.showCopyToClipboard()}})}var qo,Hi,ea=c(()=>{"use strict";h();T();ue();$();S();({TableRow:qo}=s("TableRow")),{FormText:Hi}=O;n(kt,"Version")});function Zr(){_(p);var e=[{label:"Bunny",version:F.vendetta.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${F.discord.version} (${F.discord.build})`,icon:"Discord"},{label:"React",version:F.react.version,icon:"ic_category_16px"},{label:"React Native",version:F.react.nativeVersion,icon:"mobile"},{label:"Bytecode",version:F.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],t=[{label:"Loader",version:F.vendetta.loader,icon:"ic_download_24px"},{label:"Operating System",version:`${F.os.name} ${F.os.version}`,icon:"ic_cog_24px"},...F.os.sdk?[{label:"SDK",version:F.os.sdk,icon:"pencil"}]:[],{label:"Manufacturer",version:F.device.manufacturer,icon:"ic_badge_staff"},{label:"Brand",version:F.device.brand,icon:"ic_settings_boost_24px"},{label:"Model",version:F.device.model,icon:"ic_phonelink_24px"},{label:f.Platform.select({android:"Codename",ios:"Machine ID"}),version:F.device.codename,icon:"ic_compose_24px"}];return React.createElement(f.ScrollView,{style:zi.container},React.createElement(ji,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(Qr,{title:"Links"},React.createElement(oe,{label:"Discord Server",icon:React.createElement(oe.Icon,{source:m("Discord")}),trailing:oe.Arrow,onPress:function(){return Je.openDeeplink(Lr)}}),React.createElement(oe,{label:"GitHub",icon:React.createElement(oe.Icon,{source:m("img_account_sync_github_white")}),trailing:oe.Arrow,onPress:function(){return Je.openURL(Or)}})),React.createElement(Qr,{title:"Actions"},React.createElement(oe,{label:"Reload Discord",icon:React.createElement(oe.Icon,{source:m("ic_message_retry")}),onPress:function(){return f.NativeModules.BundleUpdaterManager.reload()}}),React.createElement(oe,{label:p.safeMode?.enabled?"Return to Normal Mode":"Reload in Safe Mode",subLabel:`This will reload Discord ${p.safeMode?.enabled?"normally.":"without loading addons."}`,icon:React.createElement(oe.Icon,{source:m("ic_privacy_24px")}),onPress:gt}),React.createElement($i,{label:"Developer Settings",icon:React.createElement(oe.Icon,{source:m("ic_progress_wrench_24px")}),value:p.developerSettings,onValueChange:function(r){p.developerSettings=r}})),React.createElement(Qr,{title:"Info"},React.createElement(rt,{noPadding:!0,label:"Versions",icon:"ic_information_filled_24px"},e.map(function(r){return React.createElement(kt,{padding:!0,label:r.label,version:r.version,icon:r.icon})})),React.createElement(rt,{noPadding:!0,label:"Platform",icon:"ic_mobile_device"},t.map(function(r){return React.createElement(kt,{padding:!0,label:r.label,version:r.version,icon:r.icon})})))))}var ji,oe,$i,Qr,F,zi,ta=c(()=>{"use strict";h();Ae();Qe();U();T();$();H();ea();S();_e();({Stack:ji,TableRow:oe,TableSwitchRow:$i,TableRowGroup:Qr}=s("TableRow")),F=Cr(),zi=B.createThemedStyleSheet({container:{flex:1,backgroundColor:b.BACKGROUND_MOBILE_SECONDARY}});n(Zr,"General")});function Tt(e){var{title:t,fetchFunction:r,items:o,safeModeMessage:a,safeModeExtras:l,card:i}=e;_(p),_(o);var u=Ki.useSharedValue(0),d=React.useRef(0),[R,N]=React.useState("");return React.createElement(M,null,React.createElement(f.FlatList,{ListHeaderComponent:React.createElement(React.Fragment,null,p.safeMode?.enabled&&React.createElement(f.View,{style:{marginBottom:10}},React.createElement(jr,{messageType:0},a),l),React.createElement(He,{style:{marginBottom:15},onChangeText:function(E){return N(E.toLowerCase())},placeholder:"Search"})),onScroll:function(E){E.nativeEvent.contentOffset.y<=0||(u.value=+(E.nativeEvent.contentOffset.y>d.current),d.current=E.nativeEvent.contentOffset.y)},onMomentumScrollEnd:function(){return u.value=0},style:{paddingHorizontal:10,paddingTop:10},contentContainerStyle:{paddingBottom:70},data:Object.values(o).filter(function(E){return E.id?.toLowerCase().includes(R)}),renderItem:function(E){var{item:v,index:x}=E;return React.createElement(i,{item:v,index:x})}}),React.createElement(Wi,{text:`Install ${t}`,icon:m("DownloadIcon"),state:{collapseText:u},onPress:function(){k.getString().then(function(E){return _t({title:`Install ${t}`,initialValue:E.match(Ge)?.[0]??"",placeholder:"https://example.com/",onConfirm:function(v){return r(v)},confirmText:"Install",cancelText:"Cancel"})})}}))}var Ki,Wi,qr=c(()=>{"use strict";h();U();$();H();S();Ae();Pe();T();Ki=s("useSharedValue"),{FloatingActionButton:Wi}=s("FloatingActionButton");n(Tt,"AddonPage")});function en(e){var t=React.useRef(null);return React.useEffect(function(){if(f.Platform.OS==="android"){var r=t.current?._children?.[0]?._nativeTag;return function(){if(r)var o=Q("setAccessibilityFocus",ra,function(a,l){var[i]=a;if(i!==r)return l.apply(ra,[i]);o()})}}},[]),React.createElement(f.View,{ref:t},React.createElement(Yi,{...e,title:e.title,children:e.children,triggerOnLongPress:e.triggerOnLongPress,items:e.items,align:e.align}))}var Yi,ra,na=c(()=>{"use strict";S();dt();V();({ContextMenu:Yi}=s("ContextMenu")),{AccessibilityInfo:ra}=f;n(en,"ContextMenu")});function xt(e){var t=e.toggleValue??!1,r={style:Ht.header,label:e.headerLabel,icon:e.headerIcon&&React.createElement(Xi,{source:m(e.headerIcon)})};return React.createElement(f.View,{style:[Ht.card,{marginTop:e.index!==0?10:0}]},React.createElement(Zi,null,e.toggleType&&(e.toggleType==="switch"?React.createElement(Ji,{...r,value:e.toggleValue,onValueChange:e.onToggleChange}):e.toggleType==="radio"?React.createElement(Qi,{...r,onPress:function(){t=!t,e.onToggleChange?.(t)},checked:e.toggleValue}):void 0)||React.createElement(oa,r),React.createElement(oa,{label:e.descriptionLabel,trailing:React.createElement(f.View,{style:Ht.actions},e.overflowActions&&React.createElement(en,{triggerOnLongPress:!1,items:e.overflowActions.map(function(o){return{label:o.label,iconSource:m(o.icon),action:o.onPress}}),align:"auto",title:e.overflowTitle,children:function(o){return React.createElement(f.TouchableOpacity,o,React.createElement(f.Image,{style:Ht.icon,source:m("ic_more_24px")}))}}))})))}var oa,Xi,Ji,Qi,Zi,Qf,Zf,qf,Ht,tn=c(()=>{"use strict";na();h();S();T();_e();({TableRow:oa,TableRowIcon:Xi,TableSwitchRow:Ji,TableCheckboxRow:Qi,TableRowGroup:Zi,IconButton:Qf}=s("TableRow")),{hideActionSheet:Zf}=s("openLazy","hideActionSheet"),{showSimpleActionSheet:qf}=s("showSimpleActionSheet"),Ht=B.createThemedStyleSheet({card:{backgroundColor:b?.BACKGROUND_SECONDARY,borderRadius:15,overflow:"hidden"},header:{padding:0,backgroundColor:b?.BACKGROUND_TERTIARY},actions:{flexDirection:"row-reverse",alignItems:"center"},actionIcon:{width:22,height:22,marginLeft:5,tintColor:b?.INTERACTIVE_NORMAL},icon:{width:22,height:22,marginLeft:5,tintColor:b?.INTERACTIVE_NORMAL}});n(xt,"Card")});async function aa(e,t){e.enabled&&tt(e.id,!1),t(),e.enabled&&await et(e.id)}function rn(e){var{item:t,index:r}=e;_(t);var o=Br(t.id),a=Ee.useNavigation(),[l,i]=React.useState(!1);return l?null:React.createElement(xt,{index:r,headerLabel:`${t.manifest.name} by ${t.manifest.authors.map(function(u){return u.name}).join(", ")}`,headerIcon:t.manifest.vendetta?.icon||"ic_application_command_24px",toggleType:"switch",toggleValue:t.enabled,onToggleChange:function(u){try{u?et(t.id):tt(t.id)}catch(d){g(d.message,m("Small"))}},descriptionLabel:t.manifest.description,overflowTitle:t.manifest.name,overflowActions:[...o?[{label:"Plugin settings",icon:"settings",onPress:function(){return a.push("VendettaCustomPage",{title:t.manifest.name,render:o})}}]:[],{icon:"ic_sync_24px",label:"Refetch",onPress:async function(){aa(t,function(){qe(t.id).then(async function(){g("Successfully refetched plugin.",m("toast_image_saved"))}).catch(function(){g("Failed to refetch plugin!",m("Small"))})})}},{icon:"copy",label:"Copy URL",onPress:function(){k.setString(t.id),g.showCopyToClipboard()}},{icon:"ic_download_24px",label:t.update?"Disable updates":"Enable updates",onPress:function(){t.update=!t.update,g(`${t.update?"Enabled":"Disabled"} updates for ${t.manifest.name}.`,m("toast_image_saved"))}},{icon:"ic_duplicate",label:"Clear data",isDestructive:!0,onPress:function(){return ne({title:"Wait!",content:`Are you sure you wish to clear the data of ${t.manifest.name}?`,confirmText:"Clear",cancelText:"Cancel",confirmColor:j.RED,onConfirm:function(){aa(t,function(){try{he.removeItem(t.id),g(`Cleared data for ${t.manifest.name}.`,m("trash"))}catch{g(`Failed to clear data for ${t.manifest.name}!`,m("Small"))}})}})}},{icon:"ic_message_delete",label:"Delete",isDestructive:!0,onPress:function(){return ne({title:"Wait!",content:`Are you sure you wish to delete ${t.manifest.name}? This will clear all of the plugin's data.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:j.RED,onConfirm:function(){try{yt(t.id),i(!0)}catch(u){g(u.message,m("Small"))}}})}}]})}var ia=c(()=>{"use strict";Ze();h();Ne();we();T();ue();Pe();tn();U();n(aa,"stopThenStart");n(rn,"PluginCard")});function nn(){return _(p),React.createElement(Tt,{title:"Plugin",fetchFunction:fe,items:C,safeModeMessage:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",card:rn})}var la=c(()=>{"use strict";U();Ne();H();qr();ia();n(nn,"Plugins")});async function sa(e,t){try{await Le(e?t:"default"),e?mt(D[t]):mt(null),g("Reload the app to fully apply changes!",m("yellow-alert"))}catch(r){console.error("Error while selectAndApply,",r)}}function on(e){var{item:t,index:r}=e;_(t);var[o,a]=React.useState(!1);if(o)return null;var l=t.data.authors;return React.createElement(xt,{index:r,headerLabel:`${t.data.name} ${l?`by ${l.map(function(i){return i.name}).join(", ")}`:""}`,descriptionLabel:t.data.description??"No description.",toggleType:p.safeMode?.enabled?void 0:"radio",toggleValue:t.selected,onToggleChange:function(i){sa(i,t.id)},overflowTitle:t.data.name,overflowActions:[{icon:"ic_sync_24px",label:"Refetch",onPress:function(){ut(t.id,t.selected).then(function(){t.selected?ne({title:"Theme refetched",content:"A reload is required to see the changes. Do you want to reload now?",confirmText:"Reload",cancelText:"Cancel",confirmColor:j.RED,onConfirm:function(){return ct.reload()}}):g("Successfully refetched theme.",m("toast_image_saved"))}).catch(function(){g("Failed to refetch theme!",m("Small"))})}},{icon:"copy",label:"Copy URL",onPress:function(){k.setString(t.id),g.showCopyToClipboard()}},{icon:"ic_message_delete",label:"Delete",isDestructive:!0,onPress:function(){return ne({title:"Wait!",content:`Are you sure you wish to delete ${t.data.name}?`,confirmText:"Delete",cancelText:"Cancel",confirmColor:j.RED,onConfirm:function(){ft(t.id).then(function(i){a(!0),i&&sa(!1,t.id)}).catch(function(i){g(i.message,m("Small"))})}})}}]})}var ca=c(()=>{"use strict";Ze();h();te();U();we();T();Pe();ue();H();tn();n(sa,"selectAndApply");n(on,"ThemeCard")});function an(){return _(p),React.createElement(Tt,{title:"Theme",fetchFunction:Re,items:D,safeModeMessage:`You are in Safe Mode, meaning themes have been temporarily disabled.${p.safeMode?.currentThemeId?" If a theme appears to be causing the issue, you can press below to disable it persistently.":""}`,safeModeExtras:p.safeMode?.currentThemeId?React.createElement(me,{text:"Disable Theme",color:j.BRAND,size:"small",onPress:function(){delete p.safeMode?.currentThemeId},style:{marginTop:8}}):void 0,card:on})}var ua=c(()=>{"use strict";Ze();U();te();$();H();qr();ca();n(an,"Themes")});function ln(e){var{asset:t}=e;return React.createElement(qi,{label:`${t.name} - ${t.id}`,trailing:React.createElement(f.Image,{source:t.id,style:{width:32,height:32}}),onPress:function(){k.setString(t.name),g.showCopyToClipboard()}})}var qi,fa=c(()=>{"use strict";h();ue();$();({FormRow:qi}=O);n(ln,"AssetDisplay")});function sn(){var[e,t]=React.useState("");return React.createElement(M,null,React.createElement(f.View,{style:{flex:1}},React.createElement(He,{style:{margin:10},onChangeText:function(r){return t(r)},placeholder:"Search"}),React.createElement(f.FlatList,{data:Object.values(Se).filter(function(r){return r.name.includes(e)||r.id.toString()===e}),renderItem:function(r){var{item:o}=r;return React.createElement(ln,{asset:o})},ItemSeparatorComponent:el,keyExtractor:function(r){return r.name}})))}var el,ma=c(()=>{"use strict";h();T();$();fa();({FormDivider:el}=O);n(sn,"AssetBrowser")});function un(){var e=Ee.useNavigation();return _(p),_(re),React.createElement(M,null,React.createElement(f.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(tl,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(pa,{label:"Debugger URL",placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return React.createElement(rl,{style:il.leadingText},"ws://")},defaultValue:p.debuggerUrl,onChange:function(t){return p.debuggerUrl=t}}),React.createElement(cn,{title:"Debug"},React.createElement(z,{label:"Connect to debug websocket",icon:React.createElement(z.Icon,{source:m("copy")}),onPress:function(){return xr(p.debuggerUrl)}}),lt()&&React.createElement(React.Fragment,null,React.createElement(z,{label:"Connect to React DevTools",icon:React.createElement(z.Icon,{source:m("ic_badge_staff")}),onPress:function(){return window[Mn()||"__vendetta_rdc"]?.connectToDevTools({host:p.debuggerUrl.split(":")?.[0],resolveRNStyle:f.StyleSheet.flatten})}}))),rr()&&React.createElement(React.Fragment,null,React.createElement(cn,{title:"Loader config"},React.createElement(da,{label:"Load from custom url",subLabel:"Load Bunny from a custom endpoint.",icon:React.createElement(z.Icon,{source:m("copy")}),value:re.customLoadUrl.enabled,onValueChange:function(t){re.customLoadUrl.enabled=t}}),re.customLoadUrl.enabled&&React.createElement(z,{label:React.createElement(pa,{defaultValue:re.customLoadUrl.url,size:"md",onChange:function(t){return re.customLoadUrl.url=t},placeholder:"http://localhost:4040/vendetta.js",label:"Bunny URL"})}),lt()&&React.createElement(da,{label:"Load React DevTools",subLabel:`Version: ${Ln()}`,icon:React.createElement(z.Icon,{source:m("ic_badge_staff")}),value:re.loadReactDevTools,onValueChange:function(t){re.loadReactDevTools=t}}))),React.createElement(cn,{title:"Other"},React.createElement(z,{arrow:!0,label:"Asset Browser",icon:React.createElement(z.Icon,{source:m("ic_image")}),trailing:z.Arrow,onPress:function(){return e.push("VendettaCustomPage",{title:"Asset Browser",render:sn})}}),React.createElement(z,{arrow:!0,label:"ErrorBoundary Tools",icon:React.createElement(z.Icon,{source:m("ic_warning_24px")}),onPress:function(){return ol({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:React.createElement(z.Icon,{style:{marginRight:8},source:m("ic_warning_24px")}),onClose:function(){return nl()}},options:[{label:"Bunny",onPress:function(){return e.push("VendettaCustomPage",{render:function(){return React.createElement("undefined",null)}})}},{label:"Discord",isDestructive:!0,onPress:function(){return e.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}})))))}var tl,z,da,cn,pa,rl,nl,ol,al,il,ga=c(()=>{"use strict";h();S();Qe();U();T();$();H();ma();_e();ge();({Stack:tl,TableRow:z,TableSwitchRow:da,TableRowGroup:cn,TextInput:pa}=s("TableRow")),{FormText:rl}=O,{hideActionSheet:nl}=s("openLazy","hideActionSheet"),{showSimpleActionSheet:ol}=s("showSimpleActionSheet"),{TextStyleSheet:al}=s("TextStyleSheet"),il=B.createThemedStyleSheet({leadingText:{...al["heading-md/semibold"],color:b.TEXT_MUTED,marginRight:-4}});n(un,"Developer")});var ll,sl,wt,jt,nt,Ct,ha,fn,$t=c(()=>{"use strict";h();Ne();te();Pe();_e();ue();Te();T();H();Vt();Zo();ta();la();ua();ga();Ae();S();ge();({useSafeAreaInsets:ll}=s("useSafeAreaInsets")),sl=B.createStyles({container:{flex:1,backgroundColor:b.BACKGROUND_MOBILE_PRIMARY}}),wt=n(function(e,t){return t?Ot.snakeCase(e).toUpperCase():e},"formatKey"),jt=n(function(e,t){return Object.fromEntries(e.map(function(r){return[r.key,typeof t=="function"?t(r):typeof t=="string"?r[t]:t]}))},"keyMap"),nt=n(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return[{key:wt("VendettaSettings",e),title:"General",icon:"settings",render:Zr},{key:wt("VendettaPlugins",e),title:"Plugins",icon:"debug",options:{headerRight:function(){return React.createElement(Gt,{alertTitle:"Install Plugin",installFunction:async function(t){if(!t.startsWith(Ve)&&!p.developerSettings)setImmediate(function(){return ne({title:"Unproxied Plugin",content:"The plugin you are trying to install has not been proxied/verified by Vendetta staff. Are you sure you want to continue?",confirmText:"Install",onConfirm:function(){return fe(t).then(function(){return g("Installed plugin",m("Check"))}).catch(function(r){return g(r?.message??`${r}`,m("Small"))})},cancelText:"Cancel"})});else return await fe(t)}})}},render:nn},{key:wt("VendettaThemes",e),title:"Themes",icon:"ic_theme_24px",shouldRender:function(){return W()},options:{headerRight:function(){return!p.safeMode?.enabled&&React.createElement(Gt,{alertTitle:"Install Theme",installFunction:Re})}},render:an},{key:wt("VendettaDeveloper",e),title:"Developer",icon:"ic_progress_wrench_24px",shouldRender:function(){return p.developerSettings??!1},render:un},{key:wt("VendettaCustomPage",e),title:"Vendetta Page",shouldRender:function(){return!1},render:function(t){var{render:r,noErrorBoundary:o,...a}=t,l=Ee.useNavigation();return l.addListener("focus",function(){return l.setOptions(q(a,"render","noErrorBoundary"))}),o?React.createElement(r,null):React.createElement(M,null,React.createElement(r,null))}}]},"getScreens"),Ct=n(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return nt(e).filter(function(t){return t.shouldRender?.()??!0})},"getRenderableScreens"),ha=n(function(){return jt(nt(),function(e){return{title:e.title,render:e.render,...e.options}})},"getPanelsScreens"),fn=n(function(){var e=nt(!0);return{getLayout:function(){return{title:"Bunny",label:"Bunny",settings:Ct(!0).map(function(t){return t.key})}},titleConfig:jt(e,"title"),relationships:jt(e,null),rendererConfigs:jt(e,function(t){var r=React.memo(function(o){var{navigation:a,route:l}=o,i=sl(),{bottom:u}=ll();return a.addListener("focus",function(){return a.setOptions(t.options)}),React.createElement(f.View,{style:[{paddingBottom:u},i.container]},React.createElement(t.render,l.params))});return{type:"route",title:function(){return t.title},icon:t.icon?m(t.icon):null,screen:{route:Ot.chain(t.key).camelCase().upperFirst().value(),getComponent:function(){return r}}}})}},"getYouData")});function dn(){var e=Ee.useNavigation();_(p);var t=Ct();return React.createElement(M,null,React.createElement(cl,{key:"Vendetta",title:`Bunny${p.safeMode?.enabled?" (Safe Mode)":""}`},t.map(function(r,o){return React.createElement(React.Fragment,null,React.createElement(mn,{label:r.title,leading:React.createElement(mn.Icon,{source:m(r.icon)}),trailing:mn.Arrow,onPress:function(){return e.push(r.key)}}),o!==t.length-1&&React.createElement(ul,null))})))}var mn,cl,ul,va=c(()=>{"use strict";h();U();T();$t();$();H();({FormRow:mn,FormSection:cl,FormDivider:ul}=O);n(dn,"SettingsSection")});function pn(){var e=new Array;return e.push(y("default",fl,function(t,r){return{...r,...ha()}})),y("default",ml,function(t,r){var o=le(r.props.children,function(a){return a.type&&a.type.name==="UserSettingsOverview"});e.push(y("renderSupportAndAcknowledgements",o.type.prototype,function(a,l){var{props:{children:i}}=l,u=i.findIndex(function(d){return d?.type?.name==="UploadLogsButton"});u!==-1&&i.splice(u,1)})),e.push(y("render",o.type.prototype,function(a,l){var{props:{children:i}}=l,u=[Oe.Messages.BILLING_SETTINGS,Oe.Messages.PREMIUM_SETTINGS];i=le(i,function(R){return R.children?.[1].type?.name==="FormSection"}).children;var d=i.findIndex(function(R){return u.includes(R?.props.label)});i.splice(d===-1?4:d,0,React.createElement(dn,null))}))},!0),function(){return e.forEach(function(t){return t()})}}var fl,ml,ya=c(()=>{"use strict";h();S();V();Te();$t();va();fl=K("getScreens",!1),ml=K("UserSettingsOverviewWrapper",!1);n(pn,"patchPanels")});function hn(){var e=new Array;return pl(e)||dl(e),function(){return e.forEach(function(t){return t?.()})}}function dl(e){var t=s("useOverviewSettings"),r=s("getSettingTitleConfig"),o=s("SETTING_RELATIONSHIPS","SETTING_RENDERER_CONFIGS"),a="getSettingSearchListItems",l="getSettingListItems",i=s(a),u=!i,d=u?l:a,R=i??s(l);if(!(!R||!t)){var N=nt(!0),E=Ct(!0),v=fn();e.push(y("useOverviewSettings",t,function(De,ot){return Ra(ot,v.getLayout())})),e.push(y("getSettingTitleConfig",r,function(De,ot){return{...ot,...v.titleConfig}})),e.push(y(d,R,function(De,ot){var[Na]=De;return[...E.filter(function(ae){return Na.includes(ae.key)}).map(function(ae){return{type:"setting_search_result",ancestorRendererData:v.rendererConfigs[ae.key],setting:ae.key,title:v.titleConfig[ae.key],breadcrumbs:["Bunny"],icon:v.rendererConfigs[ae.key].icon}}),...ot.filter(function(ae){return u||!N.map(function(Kt){return Kt.key}).includes(ae.setting)})].map(function(ae,Kt,Aa){return{...ae,index:Kt,total:Aa.length}})}));var x=o.SETTING_RELATIONSHIPS,w=o.SETTING_RENDERER_CONFIGS;return o.SETTING_RELATIONSHIPS={...x,...v.relationships},o.SETTING_RENDERER_CONFIGS={...w,...v.rendererConfigs},e.push(function(){o.SETTING_RELATIONSHIPS=x,o.SETTING_RENDERER_CONFIGS=w}),!0}}function pl(e){var t=s("SearchableSettingsList"),r=s("SETTING_RENDERER_CONFIG"),o=s("getSettingListItems");if(!o||!t||!r)return!1;var a=nt(!0),l=fn();e.push(be("type",t.SearchableSettingsList,function(u){var[{sections:d}]=u;return Ra(d,l.getLayout())})),e.push(y("getSettingListSearchResultItems",o,function(u,d){d.forEach(function(R){return a.some(function(N){return N.key===R.setting})&&(R.breadcrumbs=["Bunny"])})}));var i=r.SETTING_RENDERER_CONFIG;return r.SETTING_RENDERER_CONFIG={...i,...l.rendererConfigs},e.push(function(){r.SETTING_RENDERER_CONFIG=i}),!0}function Ra(e,t){if(!(!Array.isArray(e)||e.find(function(a){return gn(a,"Bunny")}))){var r=e.findIndex(function(a){return gn(a,Oe.Messages.ACCOUNT_SETTINGS)});e.splice(r+1,0,t);var o=e.find(function(a){return gn(a,Oe.Messages.SUPPORT)});o&&(o.settings=o.settings.filter(function(a){return a!=="UPLOAD_DEBUG_LOGS"}))}}var gn,Ea=c(()=>{"use strict";S();V();$t();h();n(hn,"patchYou");n(dl,"oldYouPatch");n(pl,"newYouPatch");gn=n(function(e,t){return e?.label===t||e?.title===t},"isLabel");n(Ra,"manipulateSections")});function vn(){var e=[pn(),hn()];return function(){return e.forEach(function(t){return t?.()})}}var Sa=c(()=>{"use strict";ya();Ea();n(vn,"initSettings")});function _a(e){var{locale:t}=e;try{Er.locale(t.toLowerCase())}catch(r){L.error("Failed to fix timestamps...",r)}Lt.unsubscribe("I18N_LOAD_SUCCESS",_a)}function yn(){return Lt.subscribe("I18N_LOAD_SUCCESS",_a)}var ba=c(()=>{"use strict";h();Me();n(_a,"onDispatch");n(yn,"default")});async function Rn(e){return{patcher:q(Tn,"unpatchAll"),metro:{...tr,common:{...Sr}},constants:Vr,utils:ir,debug:q(Ir,"versionHash","patchLogHook","toggleSafeMode"),ui:{components:zr,toasts:Tr,alerts:Wr,assets:br,...kr},plugins:q(Mr,"initPlugins","evalPlugin"),themes:q(Bt,"initThemes"),commands:q(Ar,"patchCommands"),storage:mr,settings:p,loader:{identity:window.__vendetta_loader,config:re},logger:L,version:Ft,unload:function(){e.filter(function(t){return typeof t=="function"}).forEach(function(t){return t()}),delete window.vendetta}}}var Ta=c(()=>{"use strict";V();Me();H();Ae();Qe();Ne();te();Pr();U();S();h();$();ue();Pe();T();_e();Te();n(Rn,"default")});var wa={};A(wa,{default:()=>xa});async function xa(){var e=await Promise.all([wr(),_r(),Nr(),gr(),yn(),Jr(),vn(),Xr()]);window.vendetta=await Rn(e),e.push(await Dr()),L.log("Vendetta is ready!")}var Ca=c(()=>{"use strict";Qe();Pr();Ne();te();T();Yo();Qo();Sa();ba();Me();Ta();n(xa,"default")});At();globalThis.window=globalThis;var Ia=n(async function(){try{console.log("Hello from Bunny! Pyon!"),Object.freeze=Object.seal=Object,await Promise.resolve().then(()=>(Ca(),wa)).then(function(r){return r.default()})}catch(r){var{ClientInfoManager:e}=(we(),En($n)),t=r instanceof Error?r.stack:void 0;console.log(t??r?.toString?.()??r),alert([`Failed to load Vendetta!
`,`Build Number: ${e.Build}`,"Vendetta: 5c5668d",t||r?.toString?.()].join(`
`))}},"init");if(typeof globalThis.__r<"u")Ia();else{var e=function(t){var r=window.__fbBatchedBridge,o=new Array,a=Q("callFunctionReturnFlushedQueue",r,function(i,u){return i[0]==="AppRegistry"||!r.getCallableModule(i[0])?(o.push(i),r.flushedQueue()):u.apply(r,i)}),l=n(function(){Ia(),a(),t(0),o.forEach(function(i){return r.getCallableModule(i[0])&&r.__callFunction(...i)})},"startDiscord");l()};Tp=e,n(e,"onceIndexRequired"),Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return zt},set(t){zt=n(function(o){if(o===0)e(t),zt=t;else return t(o)},"patchedRequire")}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(t){this.value=t}}})}var zt,Tp;})();
//# sourceURL=bunny
