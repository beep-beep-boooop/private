(function(a,i,c,o){"use strict";const d=i.findByProps("getChannelPermissions","can"),y=i.findByProps("transitionToGuild"),C=i.findByProps("stores","fetchMessages"),{ChannelTypes:f}=i.findByProps("ChannelTypes"),{getChannel:h}=i.findByProps("getChannel"),p=[f.DM,f.GROUP_DM,f.GUILD_CATEGORY];function u(n){if(n==null||(typeof n=="string"&&(n=h(n)),!n||p.includes(n.type)))return!1;n.realCheck=!0;let e=!d.can(c.constants.Permissions.VIEW_CHANNEL,n);return delete n.realCheck,e}function P(){const n=i.findByName("MessagesWrapperConnected",!1);o.after("can",d,function(e,t){let[s,r]=e;return!r?.realCheck&&s===c.constants.Permissions.VIEW_CHANNEL?!0:t}),o.instead("transitionToGuild",y,function(e,t){const[s,r]=e;!u(r)&&typeof t=="function"&&t(e)}),o.instead("fetchMessages",C,function(e,t){const[s]=e;!u(s)&&typeof t=="function"&&t(e)}),o.instead("default",n,function(e,t){const s=e[0]?.channel;return!u(s)&&typeof t=="function"?t(...e):c.React.createElement(HiddenChannel,{channel:s})})}let l=[];var g={onLoad:function(){l.push(P())},onUnload:function(){for(const n of l)n()}};return a.default=g,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta.metro,vendetta.metro.common,vendetta.patcher);
