(function(l,R,c,e,i,y,s){"use strict";const r=i.createProxy({logIndex:0,rows:[]}).proxy,f=function(){return c.after("updateRows",e.ReactNative.NativeModules.DCDChatManager,function(t){r.logIndex=t[0],r.rows=JSON.parse(t[1])})},{FormText:o}=s.Forms,h=e.stylesheet.createThemedStyleSheet({title:{fontSize:20}});function u(t){let{error:a}=t;return e.React.createElement(e.ReactNative.View,null,e.React.createElement(o,{style:h.title},"Well shit."),e.React.createElement(o,null,a))}const{FormText:d}=s.Forms,n=e.stylesheet.createThemedStyleSheet({body:{flex:1,flexDirection:"row",width:"100%"},avatar:{height:48,width:48},contentBody:{flex:1,flexDirection:"column"},usernameRow:{flex:1,flexDirection:"row"}});function v(t){let{row:a}=t;return React.createElement(e.ReactNative.View,{style:n.body},React.createElement(e.ReactNative.Image,{style:n.avatar,source:{uri:a.message.avatarURL}}),React.createElement(e.ReactNative.View,{style:n.contentBody},React.createElement(e.ReactNative.View,{style:n.usernameRow},React.createElement(d,null,a.message.username)),React.createElement(e.ReactNative.View,null,React.createElement(d,null,"Message content needs parsing..."))))}const w=e.stylesheet.createThemedStyleSheet({body:{flex:1,flexDirection:"column",backgroundColor:y.semanticColors.CHAT_BACKGROUND,height:"100%"}});function E(){try{return i.useProxy(r),r.rows.length===0?React.createElement(u,{error:"Rows empty"}):React.createElement(e.ReactNative.View,{style:w.body},React.createElement(e.ReactNative.FlatList,{inverted:!0,data:r.rows,renderItem:function(t){let{item:a}=t;return a.type===1?React.createElement(v,{row:a}):React.createElement(u,{error:`Unhandled message type ${a.type}`})},keyExtractor:function(t){return t.index.toString()}}))}catch{}}const x=R.findByName("Chat"),g=[f(),c.instead("render",x.prototype,function(){return React.createElement(E,null)})],m=function(){return g.forEach(function(t){return t()})};return l.onUnload=m,l})({},vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.storage,vendetta.ui,vendetta.ui.components);
